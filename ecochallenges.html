<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eco Challenges - EcoVision AI</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background-color: #0d1b2a;
      min-height: 100vh;
      color: #e0e1dd;
    }

    .app-container { max-width: 1400px; margin: 0 auto; padding: 20px; }

    .header {
      background-color: #1b263b;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      animation: slideDown 0.5s ease;
    }
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .header h1 { color: #e0e1dd; font-size: 2.5em; margin-bottom: 10px; }

    .nav-tabs { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
    .nav-tab {
      background-color: #415a77; color: #e0e1dd;
      border: none; padding: 15px 30px; border-radius: 15px;
      cursor: pointer; font-size: 1em; transition: all 0.3s ease;
      text-decoration: none; display: inline-block;
    }
    .nav-tab:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      background-color: #4c6b94;
    }
    .nav-tab.active { background-color: #2e6a4d; }

    .card {
      background-color: #1b263b;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .challenge-item {
      background-color: #415a77; color: #e0e1dd;
      padding: 20px; border-radius: 15px; margin: 10px 0;
      display: flex; justify-content: space-between; align-items: center;
      transition: transform 0.3s ease; animation: slideIn 0.5s ease;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .challenge-item:hover { transform: translateX(10px); background-color: #4c6b94; }

    .progress-bar {
      width: 100%; height: 30px; background: rgba(0,0,0,0.2);
      border-radius: 15px; overflow: hidden; margin: 10px 0;
    }
    .progress-fill {
      height: 100%; background-color: #2e6a4d; border-radius: 15px;
      transition: width 0.5s ease; display: flex; align-items: center;
      justify-content: center; color: #e0e1dd; font-size: 0.9em;
    }

    .achievement {
      display: inline-block; background-color: #778da9;
      color: #0d1b2a; padding: 10px 20px; border-radius: 50px;
      margin: 5px; cursor: pointer; opacity: 0.6;
      transition: all 0.3s ease;
    }
    .achievement.unlocked { opacity: 1; animation: shine 2s infinite; }
    @keyframes shine { 0%,100% {opacity:1;} 50% {opacity:0.8;} }

    .join-btn {
      background-color: #2e6a4d; color: #e0e1dd;
      border: none; padding: 10px 20px; border-radius: 50px;
      cursor: pointer; transition: all 0.3s ease;
    }
    .join-btn:hover { transform: scale(1.05); background-color: #3a7d5c; }
    .join-btn:disabled { background-color: #555; cursor: not-allowed; }

    .points {
      font-size: 1.3em; margin-bottom: 20px;
      color: #2e6a4d; font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="header">
      <h1>Eco Challenges</h1>
      <p>Complete challenges to earn points and save the planet!</p>
    </div>

    <div class="nav-tabs">
      <a href="#" class="nav-tab">Waste Classifier</a>
      <a href="#" class="nav-tab">Carbon Tracker</a>
      <a href="#" class="nav-tab active">Eco Challenges</a>
      <a href="#" class="nav-tab">Impact Dashboard</a>
      <a href="#" class="nav-tab">Community</a>
    </div>

    <div class="points">Total Points: <span id="points">0</span></div>

    <div class="card" id="challenges">
      <h2>Weekly Challenges</h2>
      <!-- Challenges will be injected here -->
    </div>

    <div class="card">
      <h2>Your Achievements</h2>
      <div id="achievements"></div>
    </div>
  </div>

  <script>
    const challengesData = [
      { id:1, title:"Car-Free Week", desc:"Use only sustainable transportation for 7 days", goal:7, progress:0, points:50 },
      { id:2, title:"Recycling Master", desc:"Correctly sort 20 items", goal:20, progress:0, points:30 },
      { id:3, title:"Energy Saver", desc:"Reduce energy usage by 20%", goal:20, progress:0, points:40 },
      { id:4, title:"Plant a Tree", desc:"Contribute to reforestation", goal:1, progress:0, points:100 },
      { id:5, title:"Water Conservation", desc:"Save 100 gallons of water this week", goal:100, progress:0, points:60 }
    ];

    const achievementsData = [
      { id:1, name:"First Recycler", condition: () => challengesData[1].progress >= 1 },
      { id:2, name:"Week Warrior", condition: () => challengesData[0].progress >= 7 },
      { id:3, name:"Energy Expert", condition: () => challengesData[2].progress >= 20 },
      { id:4, name:"Tree Hugger", condition: () => challengesData[3].progress >= 1 }
    ];

    let totalPoints = 0;

    function renderChallenges() {
      const container = document.getElementById("challenges");
      container.innerHTML = "<h2>Weekly Challenges</h2>";

      challengesData.forEach(ch => {
        const progressPercent = (ch.progress / ch.goal) * 100;
        const div = document.createElement("div");
        div.className = "challenge-item";
        div.innerHTML = `
          <div style="flex:1;">
            <h3>${ch.title}</h3>
            <p>${ch.desc}</p>
            <div class="progress-bar">
              <div class="progress-fill" style="width:${progressPercent}%">${ch.progress}/${ch.goal}</div>
            </div>
          </div>
          <div>
            <span class="points-badge">+${ch.points} pts</span>
            <button class="join-btn" onclick="progressChallenge(${ch.id})" ${progressPercent>=100 ? "disabled":""}>
              ${progressPercent>=100 ? "Done!" : "Do Task"}
            </button>
          </div>`;
        container.appendChild(div);
      });
    }

    function renderAchievements() {
      const container = document.getElementById("achievements");
      container.innerHTML = "";
      achievementsData.forEach(a => {
        const unlocked = a.condition();
        const span = document.createElement("span");
        span.className = "achievement" + (unlocked ? " unlocked" : "");
        span.textContent = a.name;
        container.appendChild(span);
      });
    }

    function progressChallenge(id) {
      const challenge = challengesData.find(c => c.id === id);
      if (challenge.progress < challenge.goal) {
        challenge.progress++;
        if (challenge.progress === challenge.goal) {
          totalPoints += challenge.points;
          document.getElementById("points").textContent = totalPoints;
        }
        renderChallenges();
        renderAchievements();
      }
    }

    renderChallenges();
    renderAchievements();
  </script>
</body>
</html>
